(this["webpackJsonpmy-recipes"]=this["webpackJsonpmy-recipes"]||[]).push([[0],{38:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(1),c=a.n(i),r=a(31),s=a.n(r),l=(a(38),a(39),a(9)),d=a(2),h=a(11),o=a(12),m=a(14),j=a(13),p=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg",children:[Object(n.jsx)(l.b,{to:"/",className:"navbar-brand",children:"My Recipes"}),Object(n.jsx)("div",{className:"collapse navbar-collapse",children:Object(n.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(n.jsx)("li",{className:"navbar-item",children:Object(n.jsx)(l.b,{to:"/",className:"nav-link",children:"Recipes List"})}),Object(n.jsx)("li",{className:"navbar-item",children:Object(n.jsx)(l.b,{to:"/add",className:"nav-link",children:"Add Recipe"})})]})})]})}}]),a}(c.a.Component),b=a(4),u=a(10),g=a.n(u),x=function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("img",{src:e.recipe.image,width:"50",alt:"Recipe"})}),Object(n.jsxs)("td",{children:[Object(n.jsx)(l.b,{type:"text",to:"/view/"+e.recipe._id,children:e.recipe.name})," "]}),Object(n.jsxs)("td",{children:[Object(n.jsx)(l.b,{type:"button",className:"btn btn-primary",to:"/edit/"+e.recipe._id,children:"EDIT"}),Object(n.jsx)("button",{style:{marginLeft:"15px"},type:"button",className:"btn btn-danger",onClick:function(){return e.deleteRecipe(e.recipe._id)},children:"DELETE"})]})]})},O=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={recipes:[]},n.handleRemove=n.handleRemove.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/recipes/getAll").then((function(t){e.setState({recipes:t.data})})).catch((function(e){console.log("Error while retrieving the list of recipes. Error: "+e)}))}},{key:"handleRemove",value:function(e){g.a.delete("/recipes/remove/"+e).then((function(e){alert(e.data)})).catch((function(e){alert("Error while removing the recipe. Error: "+e)})),this.setState((function(t){return{recipes:t.recipes.filter((function(t){return t._id!==e}))}}))}},{key:"recipeList",value:function(){var e=this;return this.state.recipes.map((function(t){return Object(n.jsx)(x,{recipe:t,deleteRecipe:e.handleRemove},t._id)}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"My Recipes"}),Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{className:"thead-light",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Recipe Image"}),Object(n.jsx)("th",{children:"Recipe Name"}),Object(n.jsx)("th",{children:"Operation"})]})}),Object(n.jsx)("tbody",{children:this.recipeList()})]})]})}}]),a}(c.a.Component),v=a(17),f=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={recipename:"",ingredients:"",recipe:"",image:""},n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n.handleImageChange=n.handleImageChange.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/recipes/getRecipe/"+this.props.match.params.id).then((function(t){e.setState({recipename:t.data.name,ingredients:t.data.ingredients,recipe:t.data.recipe,image:t.data.image,hasImageChanged:!1})})).catch((function(e){alert("Error while getting the recipe to edit. Error: "+e)}))}},{key:"handleImageChange",value:function(e){e.target.files[0]&&this.setState({image:e.target.files[0],hasImageChanged:!0})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(v.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData;t.append("name",this.state.recipename),t.append("ingredients",this.state.ingredients),t.append("recipe",this.state.recipe),t.append("image",this.state.image),t.append("hasImageChanged",this.state.hasImageChanged);g.a.post("/recipes/update/"+this.props.match.params.id,t,{headers:{"content-type":"multipart/form-data"}}).then((function(e){return alert(e.data)})).catch((function(e){return alert("Error editing recipe. Error: "+e)})),window.location="/"}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Update recipe"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,encType:"multipart/form-data",children:[Object(n.jsx)("div",{style:{textAlign:"center"},children:Object(n.jsx)("img",{src:this.state.image,width:"300",alt:"Recipe",hidden:this.state.hasImageChanged})}),Object(n.jsx)("div",{className:"form-group",style:{textAlign:"center"},children:Object(n.jsx)("input",{type:"file",id:"image",filename:"image",accept:"image/*",className:"form-control",onChange:this.handleImageChange})}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Name: "}),Object(n.jsx)("input",{size:"50",type:"text",name:"recipename",className:"form-control",value:this.state.recipename,onChange:this.handleChange,required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Ingredients: "}),Object(n.jsx)("textarea",{type:"text",name:"ingredients",className:"form-control",value:this.state.ingredients,onChange:this.handleChange,required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Recipe: "}),Object(n.jsx)("textarea",{type:"text",name:"recipe",className:"form-control",value:this.state.recipe,onChange:this.handleChange,required:!0})]}),Object(n.jsx)("div",{className:"form-group",style:{textAlign:"center"},children:Object(n.jsx)("input",{type:"submit",value:"Update",className:"btn btn-primary"})})]})]})})}}]),a}(c.a.Component),y=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={recipename:"",ingredients:"",recipe:"",image:""},n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.handleImageChange=n.handleImageChange.bind(Object(b.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(v.a)({},a,n))}},{key:"handleImageChange",value:function(e){this.setState({image:e.target.files[0]})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData;t.append("name",this.state.recipename),t.append("ingredients",this.state.ingredients),t.append("recipe",this.state.recipe),t.append("image",this.state.image);g.a.post("/recipes/add",t,{headers:{"content-type":"multipart/form-data"}}).then((function(e){return alert(e.data)})).catch((function(e){return alert("Error adding recipe. Error: "+e)})),window.location="/"}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Add new recipe"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,encType:"multipart/form-data",children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"img",children:"Image: "}),Object(n.jsx)("input",{type:"file",id:"img",filename:"image",accept:"image/*",className:"form-control",onChange:this.handleImageChange,required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Name: "}),Object(n.jsx)("input",{type:"text",name:"recipename",size:"50",className:"form-control",value:this.state.recipename,onChange:this.handleChange,required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Ingredients: "}),Object(n.jsx)("textarea",{type:"text",name:"ingredients",className:"form-control",value:this.state.ingredients,onChange:this.handleChange,required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Recipe: "}),Object(n.jsx)("textarea",{type:"text",name:"recipe",className:"form-control",value:this.state.recipe,onChange:this.handleChange,required:!0})]}),Object(n.jsx)("div",{className:"form-group",style:{textAlign:"center"},children:Object(n.jsx)("input",{type:"submit",value:"Add",className:"btn btn-primary"})})]})]})})}}]),a}(c.a.Component),N=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={recipename:"",ingredients:"",recipe:"",image:""},n.handleRemove=n.handleRemove.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/recipes/getRecipe/"+this.props.match.params.id).then((function(t){e.setState({recipeId:t.data._id,recipename:t.data.name,ingredients:t.data.ingredients,recipe:t.data.recipe,image:t.data.image})})).catch((function(e){alert("Error while getting the recipe to edit. Error: "+e)}))}},{key:"handleRemove",value:function(){g.a.delete("/recipes/remove/"+this.state.recipeId).then((function(e){alert(e.data),window.location("/")})).catch((function(e){alert("Error while removing the recipe. Error: "+e)}))}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"View recipe"}),Object(n.jsxs)("form",{children:[Object(n.jsx)("div",{className:"form-group",style:{textAlign:"center"},children:Object(n.jsx)("img",{src:this.state.image,width:"300",alt:"Recipe"})}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Name: "}),Object(n.jsx)("input",{size:"50",type:"text",name:"recipename",className:"form-control",value:this.state.recipename,disabled:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Ingredients: "}),Object(n.jsx)("textarea",{type:"text",name:"ingredients",className:"form-control",value:this.state.ingredients,disabled:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Recipe: "}),Object(n.jsx)("textarea",{type:"text",name:"recipe",className:"form-control",value:this.state.recipe,disabled:!0})]}),Object(n.jsxs)("div",{className:"form-group",style:{textAlign:"center"},children:[Object(n.jsx)(l.b,{type:"button",className:"btn btn-primary",to:"/edit/"+this.state.recipeId,children:"EDIT"}),Object(n.jsx)("button",{type:"button",style:{margin:"15px"},className:"btn btn-danger",onClick:function(){return e.handleRemove()},children:"DELETE"})]})]})]})})}}]),a}(c.a.Component);var C=function(){return Object(n.jsxs)(l.a,{children:[Object(n.jsx)(p,{}),Object(n.jsx)("br",{}),Object(n.jsx)(d.a,{path:"/",exact:!0,component:O}),Object(n.jsx)(d.a,{path:"/edit/:id",exact:!0,component:f}),Object(n.jsx)(d.a,{path:"/add",exact:!0,component:y}),Object(n.jsx)(d.a,{path:"/view/:id",exact:!0,component:N})]})};s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(C,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.dbb4af09.chunk.js.map